{"mappings":"AAAA,MAAMA,EAAaC,SAASC,cAAc,YACpCC,EAAUF,SAASC,cAAc,WACvC,IAAIE,EAAO,IAEX,SAASC,EAAaC,EAAO,GAK3B,OAAOC,MAAM,kGAAmDD,KAAQE,MACtEC,IACE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,CAsB5B,SAASC,EAAaC,GACpB,OAAOA,EACJC,KAAI,EAACC,GAAEA,EAAEC,MAAEA,EAAKC,YAAEA,KACV,gCAAgCF,2DACQE,WAAqBD,sBAC1DA,0BAGXE,KAAK,G,CAzBVf,IAAeG,MAAKa,IAClBrB,EAAWsB,mBAAmB,YAAaR,EAAaO,EAAKE,UAC7DpB,EAAQqB,QAAS,CAAK,IAGxBrB,EAAQsB,iBAAiB,SAEzB,WACErB,GAAQ,EACRC,EAAaD,GAAMI,MAAKa,IACtBrB,EAAWsB,mBAAmB,YAAaR,EAAaO,EAAKE,UACzDF,EAAKK,MAAQ,MACfvB,EAAQqB,QAAS,EAAI,G","sources":["src/js/index.js"],"sourcesContent":["const moviesList = document.querySelector('.js-list');\nconst btnLoad = document.querySelector('.js-btn');\nlet page = 498;\n\nfunction serviceMovie(page = 1) {\n  const BASE_URL = 'https://api.themoviedb.org/3';\n  const END_POINT = '/trending/movie/week';\n  const API_KEY = '345007f9ab440e5b86cef51be6397df1';\n\n  return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}\n\nserviceMovie().then(data => {\n  moviesList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n  btnLoad.hidden = false;\n});\n\nbtnLoad.addEventListener('click', handlerBtnLoadMore);\n\nfunction handlerBtnLoadMore() {\n  page += 1;\n  serviceMovie(page).then(data => {\n    moviesList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n    if (data.page >= 500) {\n      btnLoad.hidden = true;\n    }\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(({ id, title, poster_path }) => {\n      return `<li class=\"js-item\" data-id='${id}'>\n          <img src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${title}\">\n          <h3>${title}</h3>\n        </li>`;\n    })\n    .join('');\n}\n"],"names":["$85a5f86b715fe7db$var$moviesList","document","querySelector","$85a5f86b715fe7db$var$btnLoad","$85a5f86b715fe7db$var$page","$85a5f86b715fe7db$var$serviceMovie","page1","fetch","then","response","ok","Error","status","json","$85a5f86b715fe7db$var$createMarkup","arr","map","id","title","poster_path","join","data","insertAdjacentHTML","results","hidden","addEventListener","page"],"version":3,"file":"index.d2cd6910.js.map"}